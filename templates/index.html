{% extends "base.html" %}

{% block title %}Sonification Studio - Premium Dashboard{% endblock %}

{% block content %}
{% include 'components/hero_section.html' %}

<!-- Dashboard Analytics -->
<section id="dashboard" class="section-padding" style="padding: 2rem 0;">
    <div class="container-fluid">
        <!-- Real-time Metrics Row -->
        <div class="row mb-4">
            <div class="col-lg-3 col-md-6 mb-3">
                <div class="metric-card glass-card">
                    <div class="metric-icon">‚ö°</div>
                    <div class="metric-value" id="processingSpeed">0.05s</div>
                    <div class="metric-label">Processing Speed</div>
                    <div class="metric-trend positive">+15%</div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-3">
                <div class="metric-card glass-card">
                    <div class="metric-icon">üéµ</div>
                    <div class="metric-value" id="audioGenerated">847</div>
                    <div class="metric-label">Audio Files Generated</div>
                    <div class="metric-trend positive">+23%</div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-3">
                <div class="metric-card glass-card">
                    <div class="metric-icon">üìä</div>
                    <div class="metric-value" id="accuracyRate">99.7%</div>
                    <div class="metric-label">AI Accuracy</div>
                    <div class="metric-trend positive">+2.1%</div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-3">
                <div class="metric-card glass-card">
                    <div class="metric-icon">‚öôÔ∏è</div>
                    <div class="metric-value" id="systemLoad">43%</div>
                    <div class="metric-label">System Load</div>
                    <div class="metric-trend neutral">Optimal</div>
                </div>
            </div>
        </div>

        <!-- Main Dashboard Row -->
        <div class="row">
            <!-- Control Panel -->
            <div class="col-lg-6">
                <div class="dashboard-panel glass-card">
                    <div class="panel-header">
                        <h4><i data-feather="control-panel" class="me-2"></i>Audio Generation Control</h4>
                    </div>
                    <div class="panel-body">
                        <!-- Mode Selector -->
                        <div class="control-section mb-3">
                            <label class="control-label">Processing Mode</label>
                            <div class="btn-group w-100" role="group">
                                <input type="radio" class="btn-check" name="encodingMode" id="textMode" value="text" checked>
                                <label class="btn btn-outline-primary btn-sm" for="textMode">
                                    <i data-feather="type" class="me-1"></i>Text
                                </label>
                                <input type="radio" class="btn-check" name="encodingMode" id="imageMode" value="image">
                                <label class="btn btn-outline-primary btn-sm" for="imageMode">
                                    <i data-feather="image" class="me-1"></i>Image
                                </label>
                            </div>
                        </div>

                        <!-- Text Input -->
                        <div id="textInputSection" class="control-section mb-3">
                            <label class="control-label">Text Input</label>
                            <textarea id="textInput" class="form-control form-control-sm" rows="3" 
                                placeholder="Enter text to convert..."></textarea>
                            <div class="input-stats">
                                <small>Characters: <span id="charCount">0</span></small>
                            </div>
                        </div>

                        <!-- Image Upload -->
                        <div id="imageInputSection" class="control-section mb-3" style="display: none;">
                            <label class="control-label">Image Upload</label>
                            <div class="upload-zone-compact" id="imageUploadZone">
                                <i data-feather="upload" class="upload-icon-sm"></i>
                                <span>Drop image or click</span>
                                <input type="file" id="imageFileInput" accept="image/*" style="display: none;">
                            </div>
                            <div id="imagePreview" class="mt-2" style="display: none;">
                                <img id="previewImg" class="img-preview">
                            </div>
                        </div>

                        <!-- Quick Frequency Controls -->
                        <div class="control-section mb-3">
                            <label class="control-label">Frequency Range</label>
                            <div class="row">
                                <div class="col-6">
                                    <input type="number" class="form-control form-control-sm" id="minFreq" value="800" placeholder="Min Hz">
                                </div>
                                <div class="col-6">
                                    <input type="number" class="form-control form-control-sm" id="maxFreq" value="3000" placeholder="Max Hz">
                                </div>
                            </div>
                        </div>

                        <!-- Generate Button -->
                        <div class="text-center">
                            <button class="btn btn-premium btn-lg encode-btn w-100">
                                <i data-feather="zap" class="me-2"></i>START CREATING AUDIO
                            </button>
                        </div>

                        <!-- Audio Result (moved under button) -->
                        <div id="encodingResult" class="mt-3" style="display: none;">
                            <!-- Results will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Decoding Panel -->
                <div class="dashboard-panel glass-card mt-3">
                    <div class="panel-header">
                        <h5><i data-feather="upload-cloud" class="me-2"></i>Audio Decoder</h5>
                    </div>
                    <div class="panel-body">
                        <div class="upload-zone-compact" id="audioUploadZone">
                            <i data-feather="music" class="upload-icon-sm"></i>
                            <span>Drop WAV file</span>
                            <input type="file" id="audioFileInput" accept=".wav" style="display: none;">
                        </div>
                        
                        <div class="mt-2">
                            <div class="btn-group w-100" role="group">
                                <input type="radio" class="btn-check" name="decodingMode" id="decodeText" value="text" checked>
                                <label class="btn btn-outline-secondary btn-sm" for="decodeText">Text</label>
                                <input type="radio" class="btn-check" name="decodingMode" id="decodeImage" value="image">
                                <label class="btn btn-outline-secondary btn-sm" for="decodeImage">Image</label>
                                <input type="radio" class="btn-check" name="decodingMode" id="transcribe" value="transcribe">
                                <label class="btn btn-outline-secondary btn-sm" for="transcribe">AI</label>
                            </div>
                        </div>

                        <button class="btn btn-outline-premium btn-sm w-100 mt-2 decode-btn" disabled>
                            <i data-feather="cpu" class="me-1"></i>Decode Audio
                        </button>

                        <div id="decodedResults" class="mt-2" style="display: none;">
                            <!-- Results appear here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Visualization Dashboard -->
            <div class="col-lg-6">
                <div class="dashboard-panel glass-card">
                    <div class="panel-header">
                        <h4><i data-feather="activity" class="me-2"></i>Live Analytics Dashboard</h4>
                    </div>
                    <div class="panel-body">
                        <!-- Real-time Audio Visualization -->
                        <div class="viz-container mb-3">
                            <canvas id="realtimeWaveform" width="500" height="120" class="viz-canvas"></canvas>
                            <div class="viz-label">Real-time Waveform</div>
                        </div>

                        <div class="viz-container mb-3">
                            <canvas id="spectrumAnalyzer" width="500" height="120" class="viz-canvas"></canvas>
                            <div class="viz-label">Frequency Spectrum</div>
                        </div>

                        <!-- Processing Timeline -->
                        <div class="timeline-container">
                            <h6><i data-feather="clock" class="me-2"></i>Processing Timeline</h6>
                            <div class="timeline-item">
                                <div class="timeline-dot active"></div>
                                <div class="timeline-content">
                                    <strong>System Ready</strong>
                                    <small>Awaiting input</small>
                                </div>
                            </div>
                            <div class="timeline-item" id="timeline-processing" style="display: none;">
                                <div class="timeline-dot processing"></div>
                                <div class="timeline-content">
                                    <strong>Processing Audio</strong>
                                    <small>Applying AI algorithms</small>
                                </div>
                            </div>
                            <div class="timeline-item" id="timeline-complete" style="display: none;">
                                <div class="timeline-dot complete"></div>
                                <div class="timeline-content">
                                    <strong>Generation Complete</strong>
                                    <small>Audio ready for download</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Decoding Section -->
<section id="decoding" class="section-padding bg-light-glass">
    <div class="container">
        <h2 class="section-title">
            üî¨ Audio Decoding Lab 
            <span class="premium-badge">ENTERPRISE</span>
        </h2>
        <p class="section-subtitle">Advanced AI-powered decoding with professional-grade accuracy</p>

        <div class="row">
            <div class="col-lg-6">
                <div class="card glass-card mb-4">
                    <div class="card-body">
                        <h5 class="card-title mb-3">
                            <i data-feather="upload-cloud" class="me-2"></i>
                            Audio File Upload
                        </h5>

                        <div class="upload-zone" id="audioUploadZone">
                            <div class="upload-content">
                                <i data-feather="music" class="upload-icon"></i>
                                <h6>Drag & Drop Audio Here</h6>
                                <p>or click to browse (.wav files)</p>
                                <input type="file" id="audioFileInput" accept=".wav" style="display: none;">
                            </div>
                        </div>

                        <div class="mt-3">
                            <label class="form-label">Decoding Mode</label>
                            <div class="btn-group w-100" role="group">
                                <input type="radio" class="btn-check" name="decodingMode" id="decodeText" value="text" checked>
                                <label class="btn btn-outline-secondary" for="decodeText">
                                    <i data-feather="type" class="me-2"></i>To Text
                                </label>

                                <input type="radio" class="btn-check" name="decodingMode" id="decodeImage" value="image">
                                <label class="btn btn-outline-secondary" for="decodeImage">
                                    <i data-feather="image" class="me-2"></i>To Image
                                </label>

                                <input type="radio" class="btn-check" name="decodingMode" id="transcribe" value="transcribe">
                                <label class="btn btn-outline-secondary" for="transcribe">
                                    <i data-feather="mic" class="me-2"></i>Transcribe
                                </label>
                            </div>
                        </div>

                        <!-- Image Decoding Parameters -->
                        <div id="imageDecodingParams" class="mt-3" style="display: none;">
                            <div class="row">
                                <div class="col-6">
                                    <label class="form-label">Width</label>
                                    <input type="number" class="form-control" id="decodeWidth" value="100" min="1">
                                </div>
                                <div class="col-6">
                                    <label class="form-label">Height</label>
                                    <input type="number" class="form-control" id="decodeHeight" value="100" min="1">
                                </div>
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <button type="submit" class="btn btn-premium btn-lg decode-btn me-2" disabled>
                                <i data-feather="upload" class="me-2"></i>
                                Decode Audio
                            </button>
                            <button type="button" class="btn btn-outline-premium clear-btn">
                                <i data-feather="trash-2" class="me-2"></i>
                                Clear
                            </button>
                        </div>

                        <!-- Decoded Results (Moved inline) -->
                        <div id="decodedResults" class="results-container mt-4" style="display: none;">
                            <hr class="my-3">
                            <h6 class="mb-3">
                                <i data-feather="file-text" class="me-2"></i>
                                Decoded Results
                            </h6>
                            <div class="result-content">
                                <!-- Results will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card glass-card">
                    <div class="card-body">
                        <h5 class="card-title mb-3">
                            <i data-feather="info" class="me-2"></i>
                            Decoding Guide
                        </h5>
                        <div class="small text-muted">
                            <p><strong>Text Mode:</strong> Decodes audio back to original text</p>
                            <p><strong>Image Mode:</strong> Reconstructs image from audio data</p>
                            <p><strong>Transcribe:</strong> Converts speech to text using AI</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section id="features" class="section-padding" style="padding: 3rem 0;">
    <div class="container">
        <h2 class="section-title mb-3">
            ‚ö° Exclusive Premium Features 
            <span class="premium-badge">DIAMOND TIER</span>
        </h2>

        <div class="row">
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="zap"></i>
                    </div>
                    <h5>High-Speed Processing</h5>
                    <p>Optimized algorithms for real-time audio generation and processing with minimal latency.</p>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="settings"></i>
                    </div>
                    <h5>Custom Frequency Control</h5>
                    <p>Precise frequency range selection with interactive controls for optimal audio output.</p>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="eye"></i>
                    </div>
                    <h5>Real-time Visualization</h5>
                    <p>Live waveform and spectrum analysis with professional-grade visualization tools.</p>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="image"></i>
                    </div>
                    <h5>Image to Audio</h5>
                    <p>Convert images to audio frequencies with intelligent pixel-to-frequency mapping.</p>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="mic"></i>
                    </div>
                    <h5>AI Transcription</h5>
                    <p>Advanced speech-to-text capabilities powered by OpenAI Whisper technology.</p>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 mb-4">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i data-feather="download"></i>
                    </div>
                    <h5>High-Quality Export</h5>
                    <p>Professional WAV export with configurable sample rates and bit depths.</p>
                </div>
            </div>
        </div>
    </div>
</section>



{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/app-minimal.js') }}"></script>
{% endblock %}